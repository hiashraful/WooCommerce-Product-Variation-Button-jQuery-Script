<div id="dev-variation-btns" class="button-group"></div>
<button id="toggle-more" type="button">Show More</button>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
$(document).ready(function() {
    const maxVisibleButtons = 5; 
    let isExpanded = false;

    $('#amount option').each(function(index) {
        if ($(this).val()) { 
            const button = `<button type="button" class="amount-button" data-value="${$(this).val()}">${$(this).text()}</button>`;
            $('#dev-variation-btns').append(button);
        }
    });

    $('.amount-button').click(function() {
        $('.amount-button').removeClass('active');
        $(this).addClass('active');
        $('#amount').val($(this).data('value')).change();
    });

    
    const $buttons = $('#dev-variation-btns .amount-button');
    $buttons.slice(maxVisibleButtons).hide();

    $('#toggle-more').click(function() {
        if (isExpanded) {
            $buttons.slice(maxVisibleButtons).slideUp();
            $(this).text('Show More');
        } else {
            $buttons.slice(maxVisibleButtons).slideDown();
            $(this).text('Show Less');
        }
        isExpanded = !isExpanded;
    });
});
</script>
